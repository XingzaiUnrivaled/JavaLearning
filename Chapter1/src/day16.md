# ***Day16 æ³¨è§£å’Œå¼‚å¸¸å¤„ç†***

> ä¸ºä»€ä¹ˆä¸€å®šè¦æ ‡æ³¨æ˜¯å…ƒæ³¨è§£å‘¢ï¼Œè¿™ä¸ªåŸå› å…¶å®éå¸¸çš„ç®€å•ï¼Œå› ä¸ºæ³¨è§£ç°åœ¨è¿˜ä¸èƒ½å†™ï¼Œæƒ³è¦ä½¿ç”¨æ³¨è§£è¾¾åˆ°SpringMVCå’ŒSpringBootçš„ç­‰çº§éœ€è¦ä½¿ç”¨åå°„ï¼Œä½†æ˜¯åå°„æˆ‘ä»¬ç°åœ¨è¿˜ä¸ä¼šï¼Œæ‰€ä»¥å°±å…ˆè®²è®²æœ€åŸºæœ¬çš„å…ƒæ³¨è§£ã€‚

## ç¬¬ä¸€ç«  æ³¨è§£

> æ³¨è§£åˆ†å¾ˆå¤šç±»å‹ï¼Œé™¤äº†ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨çš„æ™®é€šæ³¨è§£è¿˜æœ‰è´Ÿè´£è¾…åŠ©æ³¨è§£å·¥ä½œçš„å…ƒæ³¨è§£ï¼Œæ™®é€šçš„æ³¨è§£æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨çš„ä¸æ˜¯ç‰¹åˆ«å¤šï¼Œè™½ç„¶javaçš„æ³¨è§£æ˜¯å¾ˆå¤šçš„ï¼Œä½†ä¸€èˆ¬ç”¨åˆ°çš„æ—¶å€™å†å»æŸ¥èµ„æ–™å’Œçœ‹apiæ–‡æ¡£éƒ½æ˜¯å¯ä»¥çš„ï¼Œåªéœ€è¦è®°ä½å¸¸ç”¨çš„å‡ ä¸ªæ³¨è§£

### @Override

åœ¨æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆè¦å®ç°çš„å†…å®¹çš„æ—¶å€™ï¼Œæˆ–è€…è‡ªåŠ¨ç”Ÿæˆå¹¶æ›´æ”¹è¦ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬çš„ideaä¼šè‡ªåŠ¨å¸¦ä¸Šè¿™ä¸ªæ³¨è§£
@Overrideï¼Œä¹‹å‰æˆ‘å‰è¯´è¿‡ä¸€å˜´ï¼Œå°±æ˜¯æ£€æµ‹æ˜¯å¦çœŸçš„æ˜¯è¦é‡å†™ï¼Œè¿™ä¸ªå°±æ˜¯è¿™ä¸ªæ³¨è§£çš„ä½œç”¨ï¼Œæˆ‘ä»¬å¾…ä¼šè®²å®Œå…ƒæ³¨è§£ä¹‹åç¨å¾®çœ‹çš„ç»†ä¸€ç‚¹ã€‚ç°åœ¨å…ˆç®€ç•¥çš„çœ‹ä¸€ä¸‹ã€‚

![](image/day16/1.png)

![](image/day16/2.png)

![](image/day16/3.png)

### @Deprecated

è¿™ä¸ªæ³¨è§£æ˜¯å·²ç»å¼ƒç”¨çš„æ³¨è§£ï¼Œæ ‡æ³¨äº†ä¹‹åå†è°ƒç”¨å°±ä¼šå‡ºç°ä¸€ä¸ªå°åˆ’çº¿

![](image/day16/4.png)

å°±ä¼šå‡ºç°è¿™ç§å°æ¨ªçº¿ï¼Œæ„æ€ä¹Ÿå¾ˆæ˜ç¡®ï¼Œåæ­£å°±æ˜¯åˆ’æ‰äº†è®©ä½ åˆ«ç”¨ï¼Œä½†æ˜¯åªæ˜¯å»ºè®®è®©ä½ åˆ«ç”¨è€Œä¸æ˜¯ä¸è®©ä½ ç”¨ï¼Œä½ åªè¦æƒ³ç”¨ï¼Œéƒ½è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚æˆ‘ä»¬å†æ¥çœ‹çœ‹ï¼Œæˆ‘ä»¬è°ƒç”¨å®Œä¹‹åä¼šå‡ºç°ä»€ä¹ˆ

![](image/day16/5.png)

å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬ç›´æ¥èƒ½çœ‹åˆ°ä»–æŠ¥é»„äº†ï¼ŒæŠ¥çš„æ˜¯è¢«å¼ƒç”¨çš„æˆå‘˜è¿˜åœ¨è¢«ä½¿ç”¨ã€‚æ‰€ä»¥è¿™ä¸ªä¹Ÿåªæ˜¯ä¸ªè­¦å‘Šå¹¶ä¸æ˜¯é”™è¯¯ï¼Œæ‰€ä»¥æ˜¯ä¸ä¼šå½±å“ç¼–è¯‘çš„ã€‚

### @FunctionalInterface

è¿™ä¸ªæ—¶å€™è¦è®²ä¸€è®²è¿™ä¸ªäº†ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯äººäººéƒ½ç”¨çš„ï¼Œæ¯•ç«Ÿjavaè‡ªå¸¦çš„æ³¨è§£å…¶å®åŠŸèƒ½éƒ½æ˜¯æ¯”è¾ƒæ–¹ä¾¿ä½†æ˜¯ä¸å¤Ÿå…¨é¢çš„ï¼Œåªæœ‰ç”¨ä¸Šäº†æ¡†æ¶ä¹‹åï¼Œä»–ä»¬çš„æ³¨è§£æ‰æ˜¯çœŸçš„å¥½ç”¨

è¿™ä¸ªæ³¨è§£çš„æ„æ€å°±æ˜¯å‡½æ•°å¼æ¥å£ï¼Œå°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„ï¼Œå¯ä»¥ä½¿ç”¨jdk8çš„æ–°ç‰¹æ€§lambdaè¡¨è¾¾å¼è¿›è¡Œå¿«é€Ÿåˆ›å»ºåŒ¿åå†…éƒ¨ç±»è¿›è¡Œä½¿ç”¨çš„ã€‚å‡½æ•°å¼æ¥å£çš„ç»“æ„ä¸ºä¸€ä¸ªæ¥å£ä½†æ˜¯æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ã€‚

æ‰€ä»¥æˆ‘ä»¬çš„è¿™ä¸ªæ³¨è§£å°±æ˜¯æ£€æµ‹ä»–æ˜¯ä¸æ˜¯å‡½æ•°å¼æ¥å£ï¼Œå¦‚æœä¸æ˜¯å°±çˆ†çº¢ï¼Œå’Œ@Overrideæ˜¯æœ‰ç‚¹ç›¸ä¼¼çš„ï¼Œè‡³äºä¸ºä»€ä¹ˆè¯´æ˜¯åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•å‘¢ï¼Œå› ä¸ºå…¶ä»–çš„å¯ä»¥ç›´æ¥ç”¨ï¼Œæ¯”å¦‚defaultæ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼Œè¿˜æœ‰å¸¸é‡ï¼Œä»–ä»¬éƒ½æ˜¯ä¸ä¼šå½±å“åŒ¿åå†…éƒ¨ç±»çš„ï¼Œæ‰€ä»¥ä¹Ÿå°±æ˜¯ä¸ä¼šå½±å“å‡½æ•°å¼æ¥å£çš„å­˜åœ¨ï¼Œæ‰€ä»¥ä»–ä»¬çš„å­˜åœ¨ä¸å¦å…¶å®æ— æ‰€è°“ã€‚

è¯´äº†è¿™ä¹ˆå¤šï¼Œæ¥ç»™å¤§å®¶æ¼”ç¤ºä¸€ä¸‹å¥½äº†ã€‚

```java

@FunctionalInterface
public interface Function {
    int i = 100;

    default void method() {
        System.out.println("print");
    }

    static void method2() {
        System.out.println("static method");
    }

    void p();
}
```

![](image/day16/6.png)

æ²¡æœ‰ä»»ä½•çš„é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬å†æ¥çœ‹ä¸€çœ‹å¦‚æœä¸æ˜¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•å‘¢ï¼Œæ²¡æœ‰æŠ½è±¡æ–¹æ³•çš„æƒ…å†µæˆ‘ä»¬å°±ä¸çœ‹äº†ï¼Œæ¯•ç«Ÿå’Œæœ‰ä¸¤ä¸ªåŠä»¥ä¸Šæ˜¯ä¸€æ ·çš„æƒ…å†µï¼Œæˆ‘å°±æ¼”ç¤ºä¸¤ä¸ªçš„æƒ…å†µç»™å¤§å®¶çœ‹ã€‚

![](image/day16/7.png)

æ˜¯ä¸æ˜¯çœ‹åˆ°çˆ†çº¢äº†ï¼Œè¿™ä¸ªå°±æ˜¯å› ä¸ºåˆšåˆšæ‰€è¯´çš„ï¼Œæ˜¯è­¦å‘Šï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯å‡½æ•°å¼æ¥å£å°±åªèƒ½æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä¸èƒ½æœ‰æ›´å¤šæˆ–è€…æ›´å°‘çš„ã€‚

å†ç»™å¤§å®¶çœ‹ä¸€ä¸ªä¸œè¥¿ï¼Œå°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„lambdaè¡¨è¾¾å¼ï¼Œä½†æ˜¯ç°åœ¨æ²¡å¿…è¦å»å­¦ä¹ ã€‚å› ä¸ºåé¢ä¼šè®²ï¼Œåœ¨æˆ‘ä»¬å­¦ä¹ å®ŒjavaSEçš„å…¨éƒ¨å†…å®¹ä¹‹åå°±ä¼šæ¥å…¥jdkçš„æ–°ç‰¹æ€§è¿›è¡Œå­¦ä¹ ã€‚

æˆ‘ä»¬çš„lambdaè¡¨è¾¾å¼ä¹Ÿå«åšç®­å¤´å‡½æ•°ï¼Œæ‰€ä»¥å°±æ˜¯é‚£ç®­å¤´æ¥ä»£è¡¨æˆ‘ä»¬æ˜¯lambdaè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åŒºåˆ«å’ŒèŠ‚çœçš„ç©ºé—´æœ‰å¤šå°‘ã€‚

### Lambdaè¡¨è¾¾å¼(ç•¥è®²ï¼Œå¯ä»¥è·³è¿‡)

å…ˆæ¥çœ‹çœ‹æ— å‚ä½†æ˜¯æœ‰è¿”å›å€¼çš„æƒ…å†µ

```java
package annotation;

public class AnnotationTest {
    public static void main(String[] args) {
        Function f1 = new Function() {
            @Override
            public int p() {
                System.out.println("123");
                return 5;
            }
        };
        //å¸¦å‡½æ•°ä½“çš„æƒ…å†µ
        Function lf1 = () -> {
            System.out.println("123");
            return 5;
        };

        Function f2 = new Function() {
            @Override
            public int p() {
                return 5;
            }
        };
        //ç›´æ¥è¿”å›å€¼çš„æƒ…å†µ
        Function lf2 = () -> 5;
        System.out.println(f1.p());
        System.out.println(lf1.p());
        System.out.println(f2.p());
        System.out.println(lf2.p());
    }
}

@FunctionalInterface
interface Function {
    int p();
}
```

![](image/day16/8.png)

æˆ‘ä»¬çš„ideaå…¶å®ä¹Ÿæ¨èæˆ‘ä»¬ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼Œç‚¹å‡»æ›¿æ¢å…¶å®å°±å¯ä»¥ç›´æ¥åˆ‡æ¢äº†

![](image/day16/9.png)

è¿™ä¸ªå°±æ˜¯è¾“å‡ºçš„ç»“æœï¼Œæˆ‘ä»¬å¦‚æœç›´æ¥æ‰“å°ä¸€ä¸‹ä»–ä»¬æœ¬èº«çš„å¯¹è±¡å°±ä¼šå˜æˆè¿™æ ·

![](image/day16/10.png)

å…¶å®ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå‰é¢çš„åŒ¿åå†…éƒ¨ç±»æ˜¯$1ï¼Œç„¶åæˆ‘ä»¬çš„Lambdaå…¶å®å°±åŠ äº†ç‚¹åç¼€æ˜¯å§ï¼Œå®é™…ä¸Šéƒ½æ˜¯åŒ¿åå†…éƒ¨ç±»ï¼Œä½†æ˜¯javaçš„åº•å±‚å·²ç»æŠŠlambdaå°è£…ä¸€ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨èµ·æ¥lambdaï¼Œç”¨èµ·æ¥è¿™ä¸ªç®­å¤´å‡½æ•°æ˜¯å¾ˆèˆ’æœçš„ã€‚å‰ææ˜¯ä½ èƒ½çœ‹çš„å¾ˆæ‡‚

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹æœ‰å‚æ•°çš„æƒ…å†µ

```java
package annotation;

public class AnnotationTest {
    public static void main(String[] args) {
        //å¸¦å‚æ•°çš„å‡½æ•°å¼æ¥å£ï¼Œå…¶å®åªéœ€è¦ç¬¦åˆå‚æ•°åˆ—è¡¨å°±è¡Œï¼Œæ— æ‰€è°“ç±»å‹ï¼Œæœ‰ç‚¹pythonå’Œjsçš„æ„æ€äº†æ˜¯å§
        //è€Œä¸”ä¹Ÿä¸è§„å®šä¸€å®šè¦ç”¨ä½ å‚æ•°åˆ—è¡¨ä¸€æ¨¡ä¸€æ ·çš„åå­—
        Function f = (i, j) -> {
            int c = (int) (i + j);
            c += 5;
            return c;
        };
        System.out.println(f.p(5, 6));
        //ç„¶åæˆ‘ä»¬é™¤äº†è¿™ç§æ–¹å¼è¿˜å¯ä»¥ç”¨å…¶ä»–çš„ï¼Œç›´æ¥åº”ç”¨æ–¹æ³•å¯¹å‡½æ•°å¼æ¥å£è¿›è¡Œä½¿ç”¨
        //ç±»::æ–¹æ³•çš„æ–¹å¼è¿›è¡Œå¼•ç”¨
        Function f2 = AnnotationTest::returnSomething;
        System.out.println(f2.p(5, 6));
    }

    //ä¸ºäº†å®ç°ç›´æ¥ä½¿ç”¨å‡½æ•°å¼æ¥å£ç›´æ¥å¼•ç”¨ï¼Œæ¯”å†™åœ¨é‡Œé¢æ›´æ–¹ä¾¿ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼
    public static int returnSomething(int i, double j) {
        int c = (int) (i + j);
        c += 5;
        return c;
    }
}

@FunctionalInterface
interface Function {
    int p(int a, double b);
}
```

![](image/day16/11.png)

å¯¹äºè¿™èŠ‚è¯¾æ¥è¯´è¿™ä¸ªå…¶å®æ˜¯å±äºé¢å¤–å†…å®¹ï¼Œå¯ä»¥ä¸å­¦ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸€ä¸‹ï¼Œç»§ç»­è®²æˆ‘ä»¬ä¸‹ä¸€ä¸ªçš„æ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£å¯å‰å®³äº†ï¼Œå¯ä»¥æ‹¦ä½ä½ çš„æŠ¥é»„

### @SuppressWarnings

æŠ‘åˆ¶æŠ¥é”™çš„ï¼Œåº”è¯¥è¯´æ˜¯æŠ‘åˆ¶è­¦å‘Šçš„æ³¨è§£ï¼Œå¯ä»¥è®©ä½ çœ‹ä¸åˆ°çƒ¦äººçš„æŠ¥é»„ã€‚ç”¨æ³•æ˜¯ååˆ†çš„ç®€å•çš„ã€‚å°±åªéœ€è¦å†™ä¸Š@SuppressWarningsä¹‹åå‘¢ï¼Œåœ¨ä»–çš„æ‹¬å·é‡Œé¢å¡«å†™ä»¥ä¸‹çš„å†…å®¹å³å¯ï¼Œéšä¾¿é€‰ä¸€ä¸ªéƒ½è¡Œï¼Œä¹Ÿå¯ä»¥å¡«æ•°ç»„

@SuppressWarnings("all") âˆš  
@SuppressWarnings({"all"}) âˆš  
è¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯å¯ä»¥çš„ï¼Œå¯ä»¥å†™å•ä¸ªï¼Œä¹Ÿå¯ä»¥å†™ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥èƒ½å¬æ‡‚æˆ‘æ„æ€å§ï¼Œæ—¢ç„¶æ˜¯æ•°ç»„çš„è¯ï¼Œé‚£è‡ªç„¶æ˜¯éƒ½å¯ä»¥å¡«å†™çš„ï¼Œä½ å¯ä»¥å¡«å†™ä¸æ­¢ä¸€ä¸ªï¼Œé‚£æˆ‘ä»¬çœ‹çœ‹ä»–çš„ä½œç”¨èŒƒå›´åœ¨å“ªé‡Œï¼Œå‰é¢çš„ä¸‰ä¸ªæˆ‘ä»¬éƒ½å¾ˆæ¸…æ¥šï¼Œå·®ä¸å¤šéƒ½æ˜¯æœ‰é™çš„ï¼Œé‚£è¿™ä¸ªå¡«åœ¨å“ªé‡Œå‘¢ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦æ•™ä½ ä»¬å…ƒæ³¨è§£äº†ï¼Œé©¬ä¸Šæ¥ã€‚

1. "all"ï¼šæŠ‘åˆ¶æ‰€æœ‰ç±»å‹çš„è­¦å‘Šã€‚
2. "unchecked"ï¼šæŠ‘åˆ¶æœªç»æ£€æŸ¥çš„è­¦å‘Šï¼Œä¾‹å¦‚ä½¿ç”¨æ³›å‹æ—¶çš„ç±»å‹è½¬æ¢è­¦å‘Šã€‚
3. "deprecation"ï¼šæŠ‘åˆ¶ä½¿ç”¨è¿‡æ—¶æ–¹æ³•æˆ–ç±»çš„è­¦å‘Šã€‚
4. "rawtypes"ï¼šæŠ‘åˆ¶åŸå§‹ç±»å‹æœªç»æ£€æŸ¥çš„è­¦å‘Šã€‚
5. "unused"ï¼šæŠ‘åˆ¶æœªä½¿ç”¨çš„å˜é‡æˆ–æœªè°ƒç”¨çš„æ–¹æ³•çš„è­¦å‘Šã€‚
6. "cast"ï¼šæŠ‘åˆ¶ç±»å‹è½¬æ¢æ—¶çš„è­¦å‘Šã€‚
7. "serial"ï¼šæŠ‘åˆ¶ç¼ºå°‘ serialVersionUID çš„è­¦å‘Šã€‚
8. "finally"ï¼šæŠ‘åˆ¶ finally å—æ— æ³•æ­£å¸¸å®Œæˆçš„è­¦å‘Šã€‚
9. "fallthrough"ï¼šæŠ‘åˆ¶åœ¨ switch è¯­å¥ä¸­çš„ case å—ä¹‹é—´ç¼ºå°‘ break è¯­å¥çš„è­¦å‘Šã€‚
10. "rawtypes"ï¼šæŠ‘åˆ¶ä½¿ç”¨åŸå§‹ç±»å‹ï¼ˆraw typeï¼‰ç›¸å…³çš„è­¦å‘Šã€‚

## ç¬¬äºŒç«  å…ƒæ³¨è§£

### @Target

> çœ‹åå­—ä¹Ÿçœ‹å‡ºæ¥äº†ï¼Œç›®æ ‡å˜›ï¼Œè¿™é©¬ä¸Šå°±æ¥ä¸Šæˆ‘ä»¬è¯´çš„é‚£ä¸ªï¼ŒèŒƒå›´ï¼Œç›®æ ‡å°±æ˜¯ä»–æ³¨è§£è¦å†™åœ¨å“ªé‡Œçš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹@SuppressWarningsçš„æºç 

![](image/day16/12.png)

ä¸éš¾çœ‹å‡ºï¼Œéƒ½å†™ç€è‹±æ–‡çš„å¯¹å§ï¼ŒType,Field,Method,Parameter,Constructor,LocalVariableï¼Œä½†æ˜¯è¿˜æ˜¯ä¸æ˜¯å¾ˆæ‡‚ï¼Œä½†æ˜¯åˆä¸æ˜¯ä¸æ‡‚ï¼Œæ¯”å¦‚çœ‹æ‡‚äº†Field
å­—æ®µï¼ŒMethod æ–¹æ³•ï¼ŒParameter å‚æ•°ï¼ŒConstructor æ„é€ å™¨ï¼Œæ˜¯å§ï¼Œå…¶ä»–çš„é‚®ç”µçœ‹ä¸æ‡‚ï¼Œé‚£æˆ‘ä»¬å°±å†è¿½ä¸€å±‚ï¼Œç›´æ¥è¿½Targeté‡Œé¢å¡«çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å‘ç°æ˜¯

![](image/day16/13.png)

çœ‹æ³¨é‡Šï¼Œæ˜¯ä¸æ˜¯æœ‰è§£é‡Šï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªTypeæ²¡æƒ³åˆ°ï¼Œå°±æ˜¯å†™åœ¨ `ç±»å•Šï¼Œæ¥å£(åŒ…æ‹¬æ³¨è§£)è¿˜æœ‰æšä¸¾ä¸Šé¢çš„`
æœ¬åœŸåŒ–ç¿»è¯‘ğŸ˜ã€‚ç„¶åæˆ‘ä»¬å†çœ‹çœ‹ä¸‹é¢çš„LOCAL_VARIABLEï¼Œæ˜¯ä¸æ˜¯å†™ç€ local variable
declarationï¼Œå±€éƒ¨ç±»å‹å£°æ˜ï¼Œæ‰€ä»¥å…¶å®å†™çš„æ˜¯å¾ˆæ˜ç™½çš„ï¼Œåªéœ€è¦æˆ‘ä»¬æµ…çœ‹ä¸€ä¸‹å°±ä¼šäº†ï¼Œè‡³äºä¸ºä»€ä¹ˆTypeä¸Šé¢å†™çš„æ³¨è§£é‡Œé¢ä¸ºä»€ä¹ˆæ˜¯interfaceç„¶åæ‹¬å·ä¸€ä¸ªåŒ…æ‹¬æ³¨è§£ç±»çš„å‘¢ï¼Œè¿™ä¸ªå˜›å°±æ˜¯å› ä¸ºï¼Œæ³¨è§£çš„å£°æ˜å…¶å®æ˜¯@interfaceæ›¿æ¢interfaceæˆ–è€…classæˆ–è€…enumã€‚

æ‰€ä»¥èƒ½çŸ¥é“@SuppressWarningæ˜¯å†™åœ¨å“ªé‡Œçš„äº†å§ï¼Œå…¶å®åŒ…æ‹¬å…¶ä»–çš„æˆ‘ä»¬ä¹Ÿéƒ½å¯ä»¥çœ‹ä¸€ä¸‹

@Overrideçš„

![](image/day16/14.png)

@Deprecatedçš„

![](image/day16/15.png)

@FunctionalInterfaceçš„

![](image/day16/16.png)

æ˜¯ä¸æ˜¯æœ‰ç–‘é—®ï¼Œéƒ½æœ‰Targetï¼Œé‚£Targetè‡ªå·±å‘¢ï¼Ÿè¿˜æœ‰è¿™ä¸ª@Retentionæ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä»–è‡ªå·±ï¼Œæ²¡æƒ³åˆ°å§ï¼Œè‡ªå·±å¤´ä¸Šä¹Ÿæœ‰ä¸ªè‡ªå·±ğŸ¤£ï¼Œå…·ä½“æ€ä¹ˆå®ç°å°±æ²¡å¿…è¦è¯´äº†ï¼Œä¹Ÿæ˜¯é€šè¿‡åå°„è‡ªå·±æ˜ å°„çš„ã€‚

![](image/day16/17.png)

### @Retention

> æŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬å…ˆçœ‹è‹±æ–‡çš„æ„æ€ï¼ŒRetentionï¼Œè‹±æ–‡çš„æ„æ€æ˜¯ä¿ç•™çš„æ„æ€ï¼Œæ‰€ä»¥è¿™ä¸ªå…¶å®å°±æ˜¯åœ¨ä»€ä¹ˆæƒ…å†µä¸‹è¿›è¡Œä¿ç•™ï¼Œæ¯”å¦‚æºç ï¼Œé‚£å°±æ˜¯åœ¨æºç çš„æ—¶å€™ä¿ç•™åœ¨ç¼–è¯‘çš„æ—¶å€™è¿›è¡Œé”€æ¯ï¼Œæ¯”å¦‚Runtimeï¼Œå°±æ˜¯åœ¨è¿è¡Œçš„æ—¶å€™è¿›è¡Œä¿ç•™

æ¯”å¦‚æˆ‘ä»¬çš„Overrideå°±æ²¡å¿…è¦åœ¨è¿è¡Œçš„æ—¶å€™è¿˜ç•™ç€å¯¹å§ï¼Œæˆ‘ä»¬æ‰“å¼€ä»–è°ƒç”¨çš„é‚£ä¸ªæšä¸¾ï¼Œç»†ç»†çœ‹æ¥

![](image/day16/19.png)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨sourceä¸Šé¢çš„æ³¨é‡Šå°±æ˜¯è¯´ï¼Œä¼šè¢«ç¼–è¯‘å™¨ä¸¢æ‰ï¼Œä¹Ÿå°±æ˜¯å°±ä¿ç•™çš„ç¼–è¯‘çš„æ—¶å€™ï¼Œå†çœ‹classï¼Œåœ¨è¿è¡Œçš„æ—¶å€™æŠ›å¼ƒï¼Œä½†æ˜¯ä¿ç•™åœ¨å­—èŠ‚ç é‡Œï¼Œè¯´æ˜ç¼–è¯‘åå°šåœ¨ï¼Œä½†æ˜¯è¿è¡Œçš„æ—¶å€™å™¶äº†ï¼Œæˆ‘ä»¬åœ¨çœ‹runtimeï¼Œå…¶å®éƒ½ä¸ç”¨çœ‹ï¼Œå·²ç»å¯ä»¥çŒœåˆ°äº†ï¼Œé‚£å°±æ˜¯ä¸€ç›´ä¿ç•™ç€ï¼Œç›´åˆ°è¿è¡Œå®Œä¹‹åä¸€èµ·é”€æ¯

å¾ˆæ˜æ˜¾ï¼Œ@Retentionå’Œ@Targetå…¶å®ä½œä¸ºå…ƒæ³¨è§£éƒ½æ˜¯æ‹¿æ¥ä¿®é¥°çš„ï¼Œé€šè¿‡è¿™äº›è¡ç”Ÿå‡ºæ›´å¤šçš„æ³¨è§£è‡ªç„¶è¿˜æœ‰å…¶ä»–çš„å…ƒæ³¨è§£ï¼Œå°±è¯´è¯´ç»å¸¸çœ‹åˆ°çš„è¿™ä¸ª@Documentå¥½äº†

### @Document

> å…ˆçœ‹æºç ï¼Œæˆ‘ä»¬çš„@Documentæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯è‡ªå·±ä¿®é¥°è‡ªå·±å‘¢ã€‚

![](image/day16/20.png)

æœç„¶è¿˜æ˜¯å¦‚æ­¤å¯¹å§ï¼Œæ¯•ç«Ÿæ˜¯å…ƒæ³¨è§£ï¼Œå®ƒæœ¬èº«æ˜¯ç”¨äºæ ‡è®°å…¶ä»–æ³¨è§£çš„å­˜åœ¨ã€‚å®ƒçš„ä½œç”¨æ˜¯æŒ‡ç¤ºç¼–è¯‘å™¨å°†æ³¨è§£çš„ä¿¡æ¯åŒ…å«åœ¨ç”Ÿæˆçš„ Java æ–‡æ¡£ä¸­ã€‚

å½“ä¸€ä¸ªæ³¨è§£è¢« @Documented æ³¨è§£æ ‡è®°æ—¶ï¼Œå®ƒçš„å…ƒæ•°æ®ï¼ˆåŒ…æ‹¬æ³¨è§£çš„åç§°ã€æè¿°ã€å‚æ•°ç­‰ï¼‰ä¼šè¢«åŒ…å«åœ¨ç”Ÿæˆçš„ API
æ–‡æ¡£ä¸­ã€‚è¿™æ ·ï¼Œåœ¨ä½¿ç”¨è¯¥æ³¨è§£çš„ç±»ã€æ–¹æ³•æˆ–å­—æ®µçš„æ–‡æ¡£ä¸­ï¼Œç”¨æˆ·å¯ä»¥çœ‹åˆ°è¯¥æ³¨è§£çš„è¯´æ˜å’Œç”¨æ³•ã€‚

ä½¿ç”¨ @Documented æ³¨è§£é€šå¸¸æ˜¯ä¸ºäº†å¢åŠ æ³¨è§£çš„å¯è§æ€§å’Œæ–‡æ¡£åŒ–ç¨‹åº¦ï¼Œä½¿å…¶ä»–å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°ç†è§£å’Œä½¿ç”¨æ³¨è§£ã€‚å®ƒå¯¹äºé‚£äº›å¸Œæœ›å°†è‡ªå®šä¹‰æ³¨è§£ä½œä¸ºå…¬å…±APIçš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…ä¸ºä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£çš„å¼€å‘äººå‘˜æä¾›æ›´è¯¦ç»†çš„æ–‡æ¡£ä¿¡æ¯éå¸¸æœ‰ç”¨ã€‚

ä¸Šé¢è¿™ä¸€æ®µè¯æ˜¯ChatGPTè¯´çš„ï¼Œæˆ‘æ¥è¯´ä¸€ä¸‹äººè¯ï¼Œå°±æ˜¯ä½ å†™æŠ€æœ¯æ–‡æ¡£çš„æ—¶å€™å…¶ä»–äººå¯ä»¥åœ¨æŸ¥çœ‹æ–‡æ¡£æ—¶ï¼Œèƒ½æ›´æ–¹ä¾¿åœ°è·å–æ³¨è§£çš„æè¿°ã€ç”¨æ³•å’Œå…¶ä»–å…ƒæ•°æ®ä¿¡æ¯ã€‚

### @Inherited

> æŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿˜æ˜¯å…ˆçœ‹è‹±æ–‡ï¼Œä»–çš„æ„æ€å…¶å®å°±æ˜¯ç»§æ‰¿çš„æ„æ€ï¼Œæ‰€ä»¥åªè¦è¢«è¿™ä¸ªæ³¨è§£ä¿®é¥°çš„æ³¨è§£

è‡³äºæˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ï¼Œå…¶å®å°±æ˜¯å› ä¸ºä»–æºç å°±æ˜¯å†™çš„åªèƒ½æ ‡æ³¨æ³¨è§£

![](image/day16/21.png)

ä»–å…¶å®å°±æ˜¯è¢«æ ‡æ³¨äº†ä¹‹åï¼Œæ¯”å¦‚æˆ‘è‡ªå·±å†™äº†ä¸ªæ³¨è§£å«åš MyAnnotationï¼Œç„¶åæˆ‘æ ‡ä¸Šäº†ç»å…¸ä¸‰ä¸ªå…ƒæ³¨è§£ @Document
@Retentionå’Œ@Targetå¹¶å¡«å†™äº†å¯¹åº”çš„å‚æ•°ä¹‹åï¼Œæˆ‘ä»¬è¿˜æƒ³è¦è¢«è¿™ä¸ªæ ‡æ³¨çš„ç±»å•Šã€æ–¹æ³•å•Šã€å­—æ®µå•Šç­‰ç­‰è®©ä»–çš„å­ç±»ä¹Ÿèƒ½äº«å—ï¼Œå°±å†™ä¸Šè¿™ä¸ªå³å¯ã€‚

## ç¬¬ä¸‰ç«  å¼‚å¸¸å¤„ç†

> æ³¨è§£å‘Šä¸€æ®µè½äº†ï¼Œéœ€è¦æ³¨æ„çš„æ—¶å€™æ³¨è§£å°±æ˜¯è¿™ä¸ª@å¼€å¤´çš„è¿™äº›ä¸ªä¸œè¥¿ï¼Œç„¶åå¦‚æœä½ æ˜¯å’Œæˆ‘ä¸€æ ·çš„é»‘å¤œæ¨¡å¼æ˜¯é»„è‰²çš„ï¼Œ
> è€Œéæ³¨é‡Šï¼Œå› ä¸ºæ³¨é‡Šæ˜¯//å¼€å§‹å’Œ/**/çš„å«åšæ³¨é‡Š

ç„¶åæˆ‘ä»¬ç°åœ¨æ¥è¯´è¯´å¼‚å¸¸å¤„ç†æ˜¯ä»€ä¹ˆï¼Œå…¶å®åœ¨ä¸Šæ¬¡èŠ‚è¯¾è®²æšä¸¾çš„æ—¶å€™å…¶å®æ¼”ç¤ºè¿‡ä¸€å°æ®µï¼Œä»–æŠ¥é”™äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ‰“æ–­è¿›ç¨‹ï¼Œè¿™ä¸ªå…¶å®å°±æ˜¯å¼‚å¸¸å¤„ç†çš„ä¸€ç¯ã€‚

### å¼‚å¸¸å’Œé”™è¯¯

> æˆ‘ä»¬æ‰€è¯´çš„å¼‚å¸¸å’Œé”™è¯¯å…¶å®åŒºåˆ«éƒ½æ˜¯æœ‰çš„ï¼Œæˆ‘ä»¬æ‰€è¯´çš„å¼‚å¸¸çš„è‹±æ–‡å…¶å®å°±æ˜¯Exceptionï¼Œç„¶åé”™è¯¯çš„è¯å°±æ˜¯Errorï¼Œæ˜¯ä¸æ˜¯éå¸¸è€³ç†Ÿï¼ŒæŠ¥é”™äº†åŸºæœ¬å°±æ˜¯Errorï¼Œæ‰€ä»¥æˆ‘çš„å¼‚å¸¸å¤„ç†å¤„ç†çš„æ˜¯å¼‚å¸¸è€Œä¸æ˜¯é”™è¯¯

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„å¼‚å¸¸ï¼Œå°±æ˜¯1/0ï¼Œæ˜¯ä¸æ˜¯æ— æ³•è®¡ç®—ï¼Œè‡ªç„¶æˆ‘ä»¬è¯´çš„è‚¯å®šä¸æ˜¯å­¦è¿‡é«˜ç­‰æ•°å­¦çš„äººï¼Œåœ¨é«˜æ•°é‡Œé¢è¿™ä¸ªå°±æ˜¯æ— ç©·ï¼Œä½†æ˜¯è®¡ç®—æœºå¹¶æ²¡æœ‰é«˜ç­‰æ•°å­¦çš„æ¦‚å¿µã€‚

```java
package exception;

public class ExceptionTest {
    public static void main(String[] args) {
        int i = 1 / 0;
        System.out.println("ä½ å¥½");
    }
}
```

![](image/day16/22.png)

æˆ‘ä»¬ç°åœ¨çœ‹åˆ°æŠ¥é”™ä¸è¦å®³æ€•å’Œå…¶ä»–çš„ï¼Œæˆ‘ä»¬è¦çœ‹æŠ¥é”™çš„åŸå› ï¼Œæ¯”å¦‚çœ‹çœ‹ä»–çš„ï¼Œè¿™ä¸ªæ—¶å€™è‹±æ–‡å°±éå¸¸çš„æœ‰ç”¨äº†ï¼Œ `å¼‚å¸¸åœ¨çº¿ç¨‹"main"é‡Œ java.lang.ArithmeticException: / by zero
åœ¨exception.ExceptionTest.main(ExceptionTest.java:5)`

è¯´å®è¯å¯ä»¥ç¿»è¯‘çš„åœ°æ–¹çœŸå°‘ï¼Œåé¢éƒ½æ˜¯å…³é”®å­—äº†ï¼Œä¸Šæ¥è·Ÿæˆ‘ä»¬è¯´åœ¨æ˜¯å“ªä¸ªçº¿ç¨‹æŠ¥çš„é”™è¯¯ï¼Œæˆ‘ä»¬ç°åœ¨è¿˜æ²¡æœ‰å­¦ä¹ çº¿ç¨‹å’Œå¤šçº¿ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ªä¸»æ–¹æ³•è¿™ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹ã€‚ç„¶åé©¬ä¸Šå°±æ˜¯æŠ¥é”™çš„å¼‚å¸¸ç±»å‹äº†ï¼Œæ˜¯
java.lang.ArithmeticException è¿™ä¸ªç±»ï¼Œæ²¡é”™å¼‚å¸¸å…¶å®è¿˜æ˜¯ç±»ï¼Œé”™è¯¯ä¿¡æ¯åœ¨å†’å·çš„åé¢ï¼Œæ˜¯ / é™¤å·ä¹Ÿå°±æ˜¯é™¤ä»¥ï¼Œby zero
é™¤ä»¥0çš„æ„æ€ï¼Œå‘ç”Ÿè¿™ä¸ªé”™è¯¯çš„ä¿¡æ¯å°±æ˜¯é™¤ä»¥0å‘ç”Ÿçš„ï¼Œç„¶åé”™è¯¯çš„ç±»å«åš
java.lang.ArithmeticExceptionï¼Œå› ä¸ºè¦å¸¦ä¸Špackageçš„ï¼Œä»–å°±æ˜¯javaè¿™ä¸ªåŒ…ä¸‹çš„langè¿™ä¸ªåŒ…ä¸‹çš„ArithmeticExceptionï¼Œä¹‹å‰å­¦è¿‡çš„åŸºç¡€ä¸è¦å¿˜è®°äº†ï¼Œç„¶åè¿™ä¸ªæ˜¯æŠ¥é”™ä¿¡æ¯ï¼Œä¸‹é¢å°±æ˜¯æŠ¥é”™åœ°ç‚¹äº†ï¼Œåœ¨ä¸»çº¿ç¨‹çš„ç¬¬äº”è¡Œï¼Œå¦‚æœæ˜¯ä½ ä¸€ä¸ªä¸€ä¸ªæ–¹æ³•è°ƒç”¨è¿›å»å†æŠ¥é”™çš„è¯ï¼Œä»–ä¼šæ…¢æ…¢è¿›å»çš„ï¼Œæˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹

```java
package exception;

public class ExceptionTest {
    public static void main(String[] args) {
        p();
        System.out.println("ä½ å¥½");
    }

    public static void p() {
        t();
    }

    public static void t() {
        int i = 1 / 0;
    }
}
```

![](image/day16/23.png)

æ˜¯å§å®Œå…¨å¯ä»¥é”å®šæŠ¥é”™äº†å·²ç»ï¼Œè€Œä¸”è¿™ä¸ªè“è‰²è¿˜æ˜¯è¶…é“¾æ¥ï¼Œå¯ä»¥ç‚¹è¿›å»äº†ï¼Œå°±å’Œæˆ‘å†™çš„ä¸Šä¸€ç« ï¼Œä¸‹ä¸€ç« æ˜¯ä¸€æ ·çš„ã€‚

çŸ¥é“äº†æŠ¥é”™ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™ä¸€ç« å¼€å¤´è¯´çš„é”™è¯¯å’Œå¼‚å¸¸çš„å…³ç³»ï¼Œæˆ‘ä»¬å°±ç›´æ¥æ‹¿ä¸Šæˆ‘ä»¬çš„è¿™ä¸ªå¼‚å¸¸ï¼Œç„¶åå†æ¥ä¸ªæ•°ç»„çš„ä¸‹æ ‡è¶Šç•Œçš„å¼‚å¸¸

å…ˆæ¥çœ‹ä¸€ä¸‹å›¾ï¼Œè¿™ä¸ªå¯ä¸æ˜¯æˆ‘è‡ªå·±ç”»çš„ï¼Œæ˜¯å¯ä»¥ç”¨ideaè‡ªå·±çœ‹çš„

![](image/day16/24.png)

å¾ˆæ˜æ˜¾å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘è¯´çš„Errorå’ŒExceptionåˆ†çš„å¾ˆå¼€ï¼Œè™½ç„¶ä»–çš„çˆ¶ç±»éƒ½æ˜¯è¿™ä¸ªThrowableï¼Œä½†æ˜¯å®é™…ä½œç”¨è¿˜æ˜¯ä¸ä¸€æ ·çš„ï¼Œå°±å’Œç»§å›½ç¼˜ä¸€å’Œç»§å›½å²©èƒœä¸€æ ·ã€‚

### å¤„ç†å¼‚å¸¸

> æˆ‘ä»¬æ˜¯ä¸æ˜¯è¯´è¿‡å¤„ç†å¼‚å¸¸å¤„ç†çš„æ˜¯å¼‚å¸¸è€Œä¸æ˜¯é”™è¯¯ï¼Œä¸€èˆ¬å‘ç”Ÿäº†é”™è¯¯ï¼Œæ¯”å¦‚è¯´æ ˆæº¢å‡ºå•Šï¼Œçˆ†å†…å­˜å•Šéƒ½æ˜¯é”™è¯¯è€Œä¸æ˜¯å¼‚å¸¸äº†ï¼Œæ˜¯å¤„ç†ä¸æ‰çš„ï¼Œæœ€èµ·ç ä¸æ˜¯è½¯ä»¶å±‚é¢èƒ½å¤„ç†çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åªå¤„ç†å¼‚å¸¸

#### å¤„ç†å¼‚å¸¸çš„ç¬¬ä¸€ç§åŠæ³•(throws)

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦å†è¯´ä¸€ä¸‹æˆ‘ä»¬çš„å¼‚å¸¸åˆ†å“ªå‡ ç§ç±»å‹ï¼Œä¸€ä¸ªæ˜¯è¿è¡Œå¼‚å¸¸ï¼Œä¸€ä¸ªæ˜¯ç¼–è¯‘å¼‚å¸¸ï¼Œè¿è¡Œå¼‚å¸¸æ˜¯å¹³æ—¶ä¸çŸ¥é“ï¼Œä½†æ˜¯ä¼šåœ¨è¿è¡Œçš„æ—¶å€™è¿›è¡ŒæŠ¥é”™ï¼Œç¼–è¯‘å¼‚å¸¸åˆ™æ˜¯åœ¨ä½ ç¼–è¯‘é˜¶æ®µä¸å¤„ç†æ‰ï¼Œé‚£ä½ å°±ä¼šä¸€ç›´æŠ¥é”™æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚

æˆ‘ä»¬å…ˆæ¥æ¼”ç¤ºä¸€ä¸‹ç¼–è¯‘å¼‚å¸¸ï¼Œå› ä¸ºè¿è¡Œå¼‚å¸¸ä¸æ˜¯è¿™ä¸ªthrowså¯ä»¥è§£å†³çš„ï¼Œthrowsçš„è¿™ä¸ªæ„æ€å°±æ˜¯æŠ›å‡ºï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªå…³é”®å­—ä¿®é¥°äº†ä¹‹åå°±æ˜¯æŠŠå¼‚å¸¸æŠ›äº†å‡ºå»ï¼Œå¦‚æœä½ æ˜¯æ–¹æ³•1è°ƒç”¨æ–¹æ³•2ï¼Œç„¶åè°ƒç”¨æ–¹æ³•3ï¼Œå¦‚æœä½ æ–¹æ³•3æŠ›äº†å¼‚å¸¸ä½ æ–¹æ³•2æ²¡å¤„ç†çš„è¯æˆ–è€…æŠ›å‡ºçš„è¯ï¼Œé‚£å°±æŠ¥é”™äº†ã€‚å¦‚æœä½ æŠ›å‡ºäº†å¼‚å¸¸çš„è¯ï¼Œåªè¦æ²¡æœ‰åœ¨è¿è¡Œé˜¶æ®µå‡ºç°è¿™ä¸ªæƒ…å†µçš„å¼‚å¸¸çš„è¯ï¼Œé‚£å°±ä¸ä¼šæŠ¥é”™

ç»™å¤§å®¶æ¼”ç¤ºä¸€ä¸‹ï¼Œè¿™ä¸ªè¦ç”¨åˆ°åé¢è¦å­¦çš„çŸ¥è¯†äº†ï¼Œå› ä¸ºæˆ‘ä»¬ç›®å‰å¹¶æ²¡æœ‰å‡ºç°è¿‡ç¼–è¯‘å¼‚å¸¸çš„æƒ…å†µ

æˆ‘ä»¬é€‰æ‹©æœ€å®¹æ˜“æœ‰å¼‚å¸¸çš„ioæµæ“ä½œã€‚

![](image/day16/25.png)

æˆ‘ä»¬åˆšå†™å®Œï¼Œä»€ä¹ˆéƒ½è¿˜æ²¡å¹²å‘¢ï¼Œå°±æŠ¥é”™äº†ï¼Œè¿™ä¸ªå°±æ˜¯ç¼–è¯‘å¼‚å¸¸ï¼Œéœ€è¦åœ¨æˆ‘ä»¬ç¼–è¯‘ä¹‹å‰å°±å¤„ç†æ‰ï¼Œå¤„ç†çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨
throws
è¿›è¡ŒæŠ›å‡ºï¼Œè®©ä¸‹ä¸€å®¶ï¼Œä¹Ÿå°±æ˜¯å¤–é¢è°ƒç”¨æˆ‘è¿™ä¸ªæ–¹æ³•çš„æ–¹æ³•å»å¤„ç†ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè°ƒç”¨æˆ‘ä»¬mainæ–¹æ³•çš„æ˜¯jvmï¼Œæ‰€ä»¥å°±ç›¸å½“äºæŠŠå¼‚å¸¸æŠ›ç»™äº†jvmï¼Œå¦‚æœæ²¡æŠ¥é”™è¿˜å¥½ï¼ŒæŠ¥é”™äº†çš„è¯ï¼Œjvmä¹Ÿæ˜¯ä¼šæŠ›å¼‚å¸¸ï¼Œæˆ–è€…è¯´æ˜¯åªä¼šæŠ›å¼‚å¸¸ï¼Œä¼šæŠ›ä¸‹å»ï¼Œå‘ç°æœ‰é”™è¯¯ï¼Œ
ç„¶ååœæ­¢è¿è¡Œã€‚æ‰€ä»¥ä»£ç å°±è¿™ä¹ˆåœæ‰çš„ï¼Œå¾…ä¼šä¼šæ•™ç¬¬äºŒç§å¤„ç†æ–¹å¼ï¼Œé‚£ä¸ªå°±æ˜¯çœŸå¤„ç†äº†ã€‚

ç„¶åå¼‚å¸¸ä¹Ÿæ˜¯æœ‰ç»§æ‰¿å…³ç³»çš„ï¼Œæœ€å¤§çš„å¼‚å¸¸å°±æ˜¯Exceptionï¼Œå¾€ä¸‹æ˜¯è¶Šæ¥è¶Šå°ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ä¸æ˜¯å«åš
FileNotFoundException ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æŠ›æ¯”è¿™ä¸ªè¿˜è¦å¤§çš„ï¼Œæ¯”å¦‚IOExceptionæˆ–è€…å°±æ˜¯ç›´æ¥ä¸¢Exception

æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªå¼‚å¸¸ç±»

![](image/day16/26.png)

æ˜¯ä¸æ˜¯ç»§æ‰¿ç€æˆ‘åˆšåˆšæ‰€è¯´çš„IOExceptionï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥è¶ŠæŠ›è¶Šå¤§ï¼Œæ³¨æ„åªèƒ½å¾€å¤§çš„æŠ›ï¼Œä¸èƒ½å¾€å°çš„æŠ›ã€‚

```java
package exception;

import java.io.FileInputStream;
import java.io.FileNotFoundException;

public class ExceptionTest {
    public static void main(String[] args) throws FileNotFoundException {
        FileInputStream fileInputStream = new FileInputStream("list.txt");
        System.out.println("ç»“å°¾");
    }
}
```

é©¬ä¸Šå°±è¦æŠ¥é”™å–½

![](image/day16/27.png)

æ˜¯ä¸æ˜¯è¯´æ‰¾ä¸åˆ°è¯¥æ–‡ä»¶ï¼Œé‚£æˆ‘æ‰¾åˆ°äº†ä¸å°±ä¸æŠ¥é”™äº†å—ï¼Œæˆ‘ä»¬æ‰‹åŠ¨ç»™ä»–åˆ›å»ºä¸€ä¸ªï¼Œæ³¨æ„äº†Javaçš„ç›¸å¯¹è·¯å¾„æœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬IOæµçš„ç›¸å¯¹è·¯å¾„æ˜¯ä»è¿™ä¸ªé¡¹ç›®å¼€å§‹ï¼Œæ‰€ä»¥åªéœ€è¦åˆ›å»ºä¸€ä¸ªä¹‹åå°±ä¸ä¼šæŠ¥é”™äº†

![](image/day16/28.png)

è¿™ä¸ªå°±åªæ˜¯éå¸¸ç®€å•çš„å°†å¼‚å¸¸æŠ›å‡ºï¼Œæˆ‘ä»¬ç°åœ¨æ¢ä¸€ä¸ªé«˜çº§ä¸€ç‚¹çš„ï¼Œtry-catchå¤„ç†ï¼Œæ˜¯çœŸçš„å¤„ç†æ‰å¼‚å¸¸äº†

#### å¼‚å¸¸å¤„ç†çš„ç¬¬äºŒç§åŠæ³•(try-catch)

è¿™ä¸ªä¹Ÿä¸éš¾ï¼Œå°±æ˜¯çœ‹åå­—ï¼Œtry-catchå¤„ç†ï¼Œæ‰€ä»¥æ˜¯æŠŠæ„Ÿè§‰ä¼šæŠ¥é”™çš„ä»£ç æ”¾åœ¨tryé‡Œé¢è¿›è¡Œè¯•ä¸€ä¸‹ï¼ŒæŠ¥é”™äº†å°±ä¼šè¢«catchï¼ŒåŒæ ·æ˜¯æ‹¿è¿™ä¸ªIOæµä½œä¸ºæµ‹è¯•ï¼Œç„¶åæˆ‘ä»¬å…ˆå°†list.txtåˆ é™¤

```java
package exception;

import java.io.FileInputStream;
import java.io.FileNotFoundException;

public class ExceptionTest {
    public static void main(String[] args) {
        try {
            FileInputStream fileInputStream = new FileInputStream("list.txt");
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        }
        System.out.println("ç»“å°¾");
    }
}
```

![](image/day16/29.png)

æŠ¥é”™å½’æŠ¥é”™ï¼Œä½†æ˜¯æ‰§è¡Œè¿˜æ˜¯æ‰§è¡Œäº†çš„ï¼Œå…¶å®è¿™ä¸ªæŠ¥é”™ä¹Ÿæ˜¯äººå·¥è€Œä¸ºä¹‹ï¼Œæˆ‘åªéœ€è¦æŠŠcatché‡Œé¢çš„é‚£ä¸ªæ‰“å°æŠ¥é”™ç»™ä»–åœ°æ¢æ‰ï¼Œå°±ä¸ä¼šå‡ºç°ä»»ä½•çš„é”™è¯¯äº†ã€‚

```java
package exception;

import java.io.FileInputStream;
import java.io.FileNotFoundException;

public class ExceptionTest {
    public static void main(String[] args) {
        try {
            FileInputStream fileInputStream = new FileInputStream("list.txt");
        } catch (FileNotFoundException e) {
            System.out.println("å“é¸­ï¼Œæ²¡æ‰¾åˆ°");
        }
        System.out.println("ç»“å°¾");
    }
}
```

![](image/day16/30.png)

å¦‚æœæ‰§è¡Œä¸‹æ¥æ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œé‚£å°±ä¸ä¼šè¿›å…¥catché‡Œé¢äº†ï¼Œè¿˜æœ‰ä¸€ç‚¹å†…å®¹ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨try-catchä¹‹å¤–åé¢è¿˜å¯ä»¥è·Ÿä¸Šå¦å¤–ä¸€ä¸ªä¸œè¥¿ï¼Œé‚£å°±æ˜¯try-catch-finallyï¼Œfinallyï¼Œæœ€åï¼Œå°±æ˜¯æ— è®ºå¦‚ä½•éƒ½æ˜¯ä¼šèµ°åˆ°è¿™ä¹ˆä¸€æ­¥çš„ï¼Œè¿™ä¸ªå°±æ˜¯finallyã€‚å³ä½¿ä½ çš„è¿™ä¸ªæ–¹æ³•å·²ç»è¢«è¿”å›å€¼è¿”å›èµ°äº†ï¼Œä¹Ÿä¼šè¿›å…¥finallyé‡Œé¢è¿›è¡Œæ‰§è¡Œçš„

```java
package exception;

import java.io.FileInputStream;
import java.io.FileNotFoundException;

public class ExceptionTest {
    public static void main(String[] args) {
        System.out.println(p());
    }

    public static int p() {
        try {
            FileInputStream fileInputStream = new FileInputStream("list.txt");
            return 1;
        } catch (FileNotFoundException e) {
            System.out.println("å“é¸­ï¼Œæ²¡æ‰¾åˆ°");
            return 0;
        } finally {
            System.out.println("æˆ‘æ˜¯ä¸€å®šä¼šæ‰“å°çš„ï¼Œæ— è®ºä½ æ‰¾æ²¡æ‰¾åˆ°");
        }
    }
}
```

ç¬¬ä¸€ä¸ªç»“æœæ˜¯æ²¡æœ‰listçš„ï¼Œä¹Ÿå°±æ˜¯ä¼šæŠ¥é”™çš„æƒ…å†µï¼Œç¬¬äºŒä¸ªç»“æœåä¹‹

![](image/day16/31.png)

![](image/day16/32.png)

è¿˜æœ‰ä¸€ä»¶äº‹ï¼Œè¿™ä¸ªå°±å¯ä»¥äº¤ç»™å¤§å®¶è‡ªå·±å»æ‘¸ç´¢äº†ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†é¡ºåºæ˜¯è¿™æ ·çš„å¯¹å§ï¼Œä½†çœŸå®æƒ…å†µæ˜¯æ€ä¹ˆæ ·å‘¢ï¼ŒçœŸçš„æ˜¯è¿”å›åå—ï¼Œè¿˜æ˜¯å› ä¸ºè¿”å›å‡ºæ¥çš„å€¼åæ‰§è¡Œçš„æ‰€ä»¥æ‰åå‘¢ï¼Œå¤§å®¶ä¼™å¯ä»¥è‡ªå·±ä½¿ç”¨debugçš„æ–¹å¼è¿›è¡ŒæŸ¥çœ‹ã€‚

æˆ‘å¯ä»¥ç›´æ¥è·Ÿå¤§å®¶ä¼™è¯´å®é™…æƒ…å†µï¼Œå®é™…æƒ…å†µæ˜¯æ‰§è¡Œåˆ°äº†returnè¦è¿”å›å€¼äº†ï¼Œä½†æ˜¯å› ä¸ºè¿˜æœ‰finallyæ‰€ä»¥å…ˆæ‰§è¡Œåˆ°returnç„¶åè·³è½¬åˆ°finallyæ‰§è¡Œå®Œfinallyè¯­å¥ä¹‹åå†å›æ¥æ‰§è¡Œreturnï¼Œè‡ªç„¶æ˜¯debugå‡ºæ¥çš„ã€‚

### è‡ªå®šä¹‰å¼‚å¸¸

> è‡ªç„¶æœ‰è¿™ä¹ˆå¤šå¼‚å¸¸ï¼Œè‚¯å®šå°‘ä¸äº†è‡ªå®šä¹‰äº†ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥è¿›è¡Œè‡ªå®šä¹‰å¼‚å¸¸çš„ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä»‹ç»å¦å¤–ä¸€ä¸ªå¼‚å¸¸ï¼Œä»–çš„åå­—å«åšRuntimeException

æ˜¯è¿è¡Œå¼‚å¸¸ï¼Œç„¶åæˆ‘ä»¬çš„Exceptionå…¶å®å°±æ˜¯ç¼–è¯‘å¼‚å¸¸ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰å¼‚å¸¸éœ€è¦é€šè¿‡ç»§æ‰¿å·²æœ‰çš„å¼‚å¸¸ç±»è¿›è¡Œï¼Œä¸€èˆ¬æ¥è¯´åªä¼šä½¿ç”¨è¿™ä¸ªä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯Exceptionä¼šå‡ºç°ç¼–è¯‘å¼‚å¸¸ï¼Œå¦å¤–ä¸€ä¸ªå°±æ˜¯RuntimeExceptionï¼Œä»–å°±æ˜¯è¿è¡Œå¼‚å¸¸ï¼Œåªæœ‰æŠ¥é”™çš„æ—¶å€™æ‰ä¼šæŠ¥é”™ï¼Œä¸ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™æŠ¥é”™

ç„¶åæˆ‘ä»¬è¿˜éœ€è¦å­¦ä¼šä¸€ä¸ªæ“ä½œï¼Œå°±æ˜¯æˆ‘ä»¬è‡ªå·±æŠ›å‡ºå¼‚å¸¸ï¼Œthrowsæ˜¯åœ¨æ£€æµ‹åˆ°å¼‚å¸¸ä¹‹åå†ä½¿å…¶æŠ›å‡ºï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨æ¥ä¸‹æ¥è¿™ä¸ªå°±æ˜¯æ— è®ºä»€ä¹ˆæ—¶å€™éƒ½å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œä»–å°±æ˜¯throwï¼Œæ²¡æœ‰s

å…ˆç»™å¤§å®¶çœ‹çœ‹ç¼–è¯‘å¼‚å¸¸æ˜¯ä»€ä¹ˆæƒ…å†µ

```java
public class MyException extends Exception {
    public MyException(String message) {
        super(message);
    }
}

class Test {
    public static void main(String[] args) {

    }

    public static void method(int i) throws MyException {
        if (i == 0) {
            throw new MyException("å°±æ˜¯è¦æŠ›å¼‚å¸¸");
        }
    }
}
```

å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦ç»§æ‰¿ä¸€ä¸‹å¼‚å¸¸å°±ç»“æŸäº†ï¼Œç„¶åä»–æ˜¯ç¼–è¯‘å¼‚å¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„è¿™ç§æƒ…å†µæŠ›å¼‚å¸¸

![](image/day16/33.png)

ç›´æ¥æŠ¥é”™ï¼Œå› ä¸ºæ˜¯ç¼–è¯‘å¼‚å¸¸ï¼Œç„¶åæˆ‘ä»¬æ¢æˆRuntimeExceptionï¼Œæ¢æˆè¿è¡Œå¼‚å¸¸

![](image/day16/34.png)

å°±ç›´æ¥æ²¡æœ‰æŠ¥é”™ï¼Œé‚£æˆ‘ä»¬æ¥è¿è¡Œä¸€ä¸‹ï¼Œå…ˆæ˜¯æ­£å¸¸çš„

```java
package exception;

public class MyException extends RuntimeException {
    public MyException(String message) {
        super(message);
    }
}

class Test {
    public static void main(String[] args) {
        method(1);
        System.out.println("æ‰“å°");
    }

    public static void method(int i) throws MyException {
        if (i == 0) {
            throw new MyException("å°±æ˜¯è¦æŠ›å¼‚å¸¸");
        }
    }
}
```

![](image/day16/35.png)

æŠŠå€¼æ¢æˆå¯ä»¥æŠ›å¼‚å¸¸çš„0

```java
package exception;

public class MyException extends RuntimeException {
    public MyException(String message) {
        super(message);
    }
}

class Test {
    public static void main(String[] args) {
        method(0);
        System.out.println("æ‰“å°");
    }

    public static void method(int i) throws MyException {
        if (i == 0) {
            throw new MyException("å°±æ˜¯è¦æŠ›å¼‚å¸¸");
        }
    }
}
```

![](image/day16/36.png)

æ˜¯ä¸æ˜¯ç›´æ¥æŠ¥é”™äº†ï¼Œæ‰“å°éƒ½ä¸æ‰“äº†ï¼Œè¿™å°±æ˜¯è‡ªå®šä¹‰å¼‚å¸¸ï¼Œåˆ†åˆ«æ˜¯ç¼–è¯‘å¼‚å¸¸ç»§æ‰¿Exceptionå’Œè¿è¡Œå¼‚å¸¸ç»§æ‰¿RuntimeExceptionï¼Œåˆ¶é€ å¼‚å¸¸throwï¼Œå¤„ç†å¼‚å¸¸throwsã€try-catch-finallyï¼Œè¿™å°±æ˜¯å¼‚å¸¸çš„å†…å®¹ï¼Œæ˜¯ä¸æ˜¯éå¸¸çš„ç®€å•ã€‚ä»Šå¤©å°±åˆ°è¿™é‡Œäº†xdmï¼Œå­¦çš„ä¸œè¥¿å·²ç»å¾ˆå¤šäº†ã€‚

### [ä¸Šä¸€ç« ](day15.md)

### [ä¸‹ä¸€ç« ](day17.md)

### [è¿”å›ç›®å½•](README.md)