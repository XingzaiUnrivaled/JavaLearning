# ***Day11 é¢å‘å¯¹è±¡â€”â€”å¤šæ€***

> æˆ‘ä»¬æ¥å¤ä¹ ä¸€ä¸‹é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œé¢å‘å¯¹è±¡æ‹¥æœ‰çš„ä¸‰å¤§ç‰¹æ€§åˆ†åˆ«ä¸º
> ç»§æ‰¿ã€å°è£…ã€å¤šæ€ã€‚ç»§æ‰¿æˆ‘ä»¬ä¹Ÿå·²ç»å­¦è¿‡äº†ï¼Œå°±æ˜¯çˆ¶ç±»å’Œå­ç±»ã€å°è£…å…¶å®ä¹Ÿå­¦è¿‡äº†å…¶å®å°±æ˜¯è®¿é—®ä¿®é¥°ç¬¦å’ŒåŒ…ï¼Œä¸»è¦çš„ä½œç”¨ä¸ºæ›´å¥½çš„å°è£…
>
> æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®²çš„å¤šæ€åˆ™æ˜¯é¢å‘å¯¹è±¡çš„æœ€éš¾ç‚¹ï¼Œä»–è¦åŸºäºç»§æ‰¿è¿›è¡Œçš„

## ç¬¬ä¸€ç«  å¤šæ€åŸºç¡€â€”â€”åŠ¨æ€ç»‘å®šæœºåˆ¶

> é¦–å…ˆæˆ‘ä»¬æƒ³è¦çŸ¥é“å¤šæ€è¦æ€ä¹ˆå®ç°ï¼Œå¤šæ€çš„å®ç°å…¶å®ä¹Ÿéå¸¸çš„ç®€å•ï¼Œåªéœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶å³å¯ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ æœ‰ç»§æ‰¿å…³ç³»ï¼Œç¬¬äºŒä¸ªå°±æ˜¯æœ‰é‡å†™çš„æ–¹æ³•ï¼Œç¬¬ä¸‰ä¸ªå°±æ˜¯
> çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œæˆ‘çŸ¥é“ä½ ä»¬çªç„¶æ‡µäº†ï¼Œä½†ä½ ä»¬å…ˆåˆ«æ€¥ï¼Œæˆ‘æ¥è§£é‡Šè§£é‡Š

é¦–å…ˆæˆ‘ä»¬æ¥è¯´è¯´ä»€ä¹ˆæ˜¯çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ­£å¸¸çš„å¯¹è±¡ä»€ä¹ˆï¼Œå› ä¸ºåŠæ—¶æœ‰ç»§æ‰¿æˆ‘ä»¬ä¹Ÿæ˜¯ä½¿ç”¨å­ç±»è¿›è¡Œåˆ›å»ºå¯¹è±¡çš„å˜›

`Hello hello = new Hello();`
è¿™ä¸ªå°±æ˜¯æ­£å¸¸çš„å¯¹è±¡åˆ›å»ºå¯¹å§ï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨æ¥ä¸€ç‚¹æ¡ä»¶ï¼Œæ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ªçˆ¶ç±»å«åšFatherç„¶åæˆ‘ä»¬çš„Helloç±»å°±ç»§æ‰¿è¿™ä¸ªFatherï¼Œé‚£æˆ‘ä»¬ç°åœ¨åˆ›å»ºçš„helloå¯¹è±¡é‡Œé¢æ˜¯ä¸æ˜¯æœ‰èº«ä¸ºçˆ¶ç±»çš„Fatheré‡Œé¢çš„æ–¹æ³•ã€‚

é‚£æˆ‘ä»¬ç°åœ¨æ¢ä¸€ä¸ªæ“ä½œæ¥å£°æ˜ï¼Œç„¶åæˆ‘ä»¬å†ç¡®å®šä¸€ä¸‹ï¼ŒHelloæ˜¯å­ç±»å¯¹å§ï¼Œç„¶åFatheræ˜¯çˆ¶ç±»ï¼ŒHello extends Fatherã€‚
æˆ‘ä»¬å°±å¯ä»¥è¿™ä¹ˆå†™å°±å¯ä»¥è¾¾æˆçˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ `Father hello = new Hello()`
å¤§å®¶ä¹Ÿå¯ä»¥è‡ªå·±ä½¿ç”¨ä¹‹å‰çš„ä»£ç è¿›è¡Œå°è¯•ä¸€ä¸‹ï¼Œç¼–è¯‘æ˜¯ä¸ä¼šå‡ºç°é—®é¢˜çš„ï¼Œä½†æ˜¯ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä½ æ²¡æœ‰è¿›è¡Œé‡å†™çš„æ—¶å€™æƒ³è¦è°ƒç”¨å­ç±»ä¸­çš„æ–¹æ³•æ˜¯ä¸å¯èƒ½çš„ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸ªæ —å­

```java
public class Hello extends Father {
    public static void main(String[] args) {
        Father hello = new Hello();
        hello.p();
    }

    public void p1() {
        System.out.println("æˆ‘æ˜¯å­ç±»ä¸­çš„æ–¹æ³•p1()");
    }
}

class Father {
    public void p() {
        System.out.println("æˆ‘æ˜¯çˆ¶ç±»ä¸­çš„æ–¹æ³•p()");
    }
}

```

![](image/day11/1.png)

æˆ‘ä»¬æ˜æ˜¾å¯ä»¥çœ‹åˆ°è¿™é‡ŒæŠ¥é”™äº†ï¼Œè‡ªç„¶æ˜¯è¿è¡Œä¸äº†çš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Œè¿˜è®°å¾—æˆ‘è¯´çš„å—ï¼Œæƒ³è¦å®Œæˆå¤šæ€å°±è¦ç»å†ä¸‰ä¸ªï¼Œä¸€ä¸ªæ˜¯ ç»§æ‰¿ï¼Œä¸€ä¸ªæ˜¯
é‡å†™ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œ1å’Œ3æ¡ä»¶éƒ½æœ‰äº†ä½†æ˜¯æ²¡æœ‰é‡å†™ï¼Œæ‰€ä»¥æ²¡æœ‰å®Œæˆå¤šæ€ï¼Œæˆ‘ä»¬ç»§ç»­ç¼–å†™ä¸€ä¸‹ä»£ç ï¼Œè®©ä»–æ‹¥æœ‰é‡å†™ï¼Œç„¶åå°±ä¼šå½¢æˆå¤šæ€

```java
public class Hello extends Father {
    public static void main(String[] args) {
        Father hello = new Hello();
        hello.p();
    }

    public void p() {
        System.out.println("æˆ‘æ˜¯å­ç±»ä¸­çš„æ–¹æ³•p()");
    }
}

class Father {
    public void p() {
        System.out.println("æˆ‘æ˜¯çˆ¶ç±»ä¸­çš„æ–¹æ³•p()");
    }
}

```

![](image/day11/2.png)

æ˜¯ä¸æ˜¯å°±è°ƒç”¨äº†é‡å†™ä¹‹åçš„æ–¹æ³•ï¼Œè¿™é‡Œå°±è¦è®²åˆ°å¤šæ€çš„ä¸€ä¸ªç‰¹æ€§äº†ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦é‡å†™ï¼Œé‡å†™å®Œäº†ä¹‹åå‘¢ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çˆ¶ç±»ä¸­ä½¿ç”¨ä¸€ä¸ªæ–¹æ³•è°ƒç”¨è¿™ä¸ªè¢«é‡å†™çš„æ–¹æ³•å®ŒæˆçœŸæ­£çš„å¤šæ€

```java
public class Hello extends Father {
    public static void main(String[] args) {
        System.out.println("é¦–å…ˆå£°æ˜ï¼Œç°åœ¨æ˜¯ä½¿ç”¨p2çš„æƒ…å†µ");
        Father hello = new Hello();
        hello.p2();
    }

    public void p() {
        System.out.println("æˆ‘æ˜¯å­ç±»ä¸­çš„æ–¹æ³•p()");
    }
}

class Father {
    public void p() {
        System.out.println("æˆ‘æ˜¯çˆ¶ç±»ä¸­çš„æ–¹æ³•p()");
    }

    public void p2() {
        p();
    }
}
```

![](image/day11/3.png)

çœ‹åˆ°åŒºåˆ«äº†å§ï¼Œæˆ‘ä»¬ä½¿ç”¨p2ï¼Œç„¶åp2è°ƒç”¨äº†pï¼Œä½†è¿™ä¸ªæ—¶å€™çš„på¹¶ä¸æ˜¯çˆ¶ç±»æ–¹æ³•é‡Œé¢çš„pï¼Œè€Œæ˜¯å­ç±»é‡Œé¢çš„pï¼Œè¿™ä¸ªå°±æ˜¯å¤šæ€ï¼Œç¥ä¸ç¥å¥‡ğŸ˜ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹ä»–çš„æœºåˆ¶ã€‚

æˆ‘ä»¬å†ä½¿ç”¨ä¸€ä¸ªå¸¦å±æ€§çš„æ¡ˆä¾‹æ¥è¯´æ˜ä¸€ä¸‹

```java
public class Hello extends Father {
    public static void main(String[] args) {
        System.out.println("é¦–å…ˆå£°æ˜ï¼Œç°åœ¨æ˜¯å¸¦içš„ä½¿ç”¨p2çš„æƒ…å†µ");
        Father hello = new Hello();
        hello.p2();
    }

    public int i = 456;

    public void p() {
        System.out.println("æˆ‘æ˜¯å­ç±»ä¸­çš„æ–¹æ³•p()");
    }
}

class Father {
    public int i = 123;

    public void p() {
        System.out.println("æˆ‘æ˜¯çˆ¶ç±»ä¸­çš„æ–¹æ³•p()");
    }

    public void p2() {
        System.out.println("æ‰“å°ä¸€ä¸‹iå…ˆ: " + i);
        p();
    }
}
```

![](image/day11/4.png)

æ˜¯ä¸æ˜¯çœ‹å‡ºæ¥äº†ä»€ä¹ˆï¼Œæˆ‘ä»¬è°ƒç”¨içš„æ—¶å€™æ˜¯ä¸æ˜¯è¿˜æ˜¯çˆ¶ç±»é‡Œé¢çš„iï¼Œè¯´æ˜å±æ€§è°ƒç”¨çš„è¿˜æ˜¯çˆ¶ç±»çš„ï¼Œç„¶åæˆ‘ä»¬å†çœ‹çœ‹pæ˜¯ä¸æ˜¯å°±æ˜¯å­ç±»é‡Œé¢çš„ï¼Œæ–¹æ³•æ˜¯ä¸æ˜¯å°±è°ƒç”¨çš„æœ‰é‡å†™çš„å­ç±»ï¼Œè¿™ä¸ªå°±æ˜¯å¤šæ€ï¼Œè¿™ä¸ªæœºåˆ¶å‘¢å°±å«åšåŠ¨æ€ç»‘å®šæœºåˆ¶ï¼Œç»‘å®šé‡å†™çš„æ–¹æ³•ä¸ç»‘å®šå±æ€§

æˆ‘ä»¬è¿˜æ²¡ç»†ç»†è®²è¿‡ä»€ä¹ˆæ˜¯ çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡å‘¢ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ“ä½œçš„æ—¶å€™é‡Œé¢å°±å‘ç”Ÿäº†ä¸€ç§ç±»å‹è½¬æ¢

## ç¬¬äºŒç«  å¤šæ€å£°æ˜â€”â€”å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹

> é¦–å…ˆæˆ‘ä»¬é™¤äº†æ ‡é¢˜é‡Œé¢çš„å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å­¦ä¹ ä¸€ä¸ªä¸œè¥¿å°±å«åšè¿è¡Œç±»å‹å’Œç¼–è¯‘ç±»å‹ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬çœ‹å‘çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡çš„è¿™ä¸ª `Father hello = new Hello();` åœ¨è¿™ä¸€ä¸²é‡Œé¢å…¶å®æˆ‘ä»¬çš„Fatheræ˜¯ç¼–è¯‘ç±»å‹ï¼Œç„¶åæˆ‘ä»¬çš„
new Hello() åˆ™æ˜¯è¿è¡Œç±»å‹ï¼Œå°±æ˜¯ç­‰å·å‰é¢çš„æ˜¯ç¼–è¯‘ç±»å‹ï¼Œç­‰å·åé¢çš„æ˜¯è¿è¡Œç±»å‹

### æ–¹æ³•åœ¨å¤šæ€ä¸­çš„è°ƒç”¨

è¿™ä¸¤ä¸ªç±»å‹çš„åŒºåˆ«å°±æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–¹æ³•æ˜¯çœ‹ç¼–è¯‘ç±»å‹çš„ï¼Œå®é™…è¿è¡Œæ˜¯çœ‹è¿è¡Œç±»å‹çš„ï¼Œå‡å¦‚æˆ‘ä»¬è¿˜æ˜¯æ­£å¸¸çš„ `Hello hello = new Hello()`
çš„è¯ï¼Œé‚£å…¶å®éƒ½æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºè¿è¡Œç±»å‹å’Œç¼–è¯‘ç±»å‹éƒ½ä¸ºHelloç±»ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡çš„æ—¶å€™å°±æ˜¯Fatherä¸ºç¼–è¯‘ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æ˜¯çœ‹Fatherçš„

è¿™ä¸ªæ„æ€å°±æ˜¯ï¼Œæˆ‘ä»¬æƒ³è¦è°ƒç”¨æ–¹æ³•æ˜¯çœ‹Fatherçš„ï¼Œå¦‚æœæˆ‘ä»¬Fatheré‡Œé¢æ²¡æœ‰è¿™ä¸ªæ–¹æ³•é‚£å°±æ²¡åŠæ³•è°ƒç”¨å°±å’Œæˆ‘ä»¬ä¹‹å‰çš„é‚£ä¸ªp1ä¸€æ ·ï¼Œå› ä¸ºFatheré‡Œé¢å¹¶æ²¡æœ‰è¿™ä¹ˆä¸ªæ–¹æ³•æ‰€ä»¥æ— æ³•è°ƒç”¨ï¼Œç¼–è¯‘æŠ¥é”™ã€‚

è¿è¡Œç±»å‹ä¸ºHelloï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨æ–¹æ³•çš„æ—¶å€™éƒ½æ˜¯ä»è¿è¡Œç±»å‹çš„çœ‹èµ·çš„ã€‚

### å±æ€§åœ¨å¤šæ€ä¸­çš„è°ƒç”¨

è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å±æ€§ï¼Œæˆ‘ä»¬å±æ€§å’Œæ–¹æ³•ä¸ä¸€æ ·ï¼Œå±æ€§æ˜¯çœ‹ç¼–è¯‘ç±»å‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥ä¸‹çš„è¿™ä¸ªä»£ç å³ä½¿æ˜¯ çˆ¶æŒ‡å­ ä¹Ÿæ˜¯è°ƒç”¨çš„çˆ¶ç±»çš„ï¼Œæ–¹æ³•åˆ™æ˜¯ä»¥å­ä¸ºå¼€å§‹

```java
public class Hello extends Father {
    public static void main(String[] args) {
        Father hello = new Hello();
        System.out.println(hello.i);
    }

    public int i = 456;
}

class Father {
    public int i = 123;
}
```

![](image/day11/5.png)

æ˜æ˜¾å¯è§ï¼Œæˆ‘ä»¬ä½¿ç”¨ çˆ¶æŒ‡å­ çš„æ–¹å¼çš„å±æ€§è°ƒç”¨æ˜¯ä»çˆ¶ç±»å¼€å§‹ï¼Œè°ƒç”¨çˆ¶ç±»çš„å±æ€§äº†ï¼Œè¿™ä¸ªå…¶å®ä¹Ÿå«åšå¤šæ€ã€‚

#### å°ç»“ä¸€ä¸‹

è¿™ä¸ªæœ€åŸºç¡€ä½¿ç”¨çš„å¤šæ€çš„ç‰¹æ€§æœ‰äºŒï¼Œå‰ææ˜¯æ»¡è¶³äº†å¼€å¯å¤šæ€çš„æ¡ä»¶ï¼Œç„¶åæˆ‘ä»¬çš„å¤šæ€è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ä¼šä»å­ç±»å¼€å§‹å¯»æ‰¾ï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨å±æ€§çš„è¯ä¼šä»çˆ¶ç±»è¿›è¡Œè°ƒç”¨ï¼Œä½†æ˜¯å…¶å®å› ä¸ºç¼–è¯‘ç±»å‹çš„å­˜åœ¨ï¼Œçˆ¶ç±»æ˜¯ä¸å¯èƒ½æ²¡æœ‰å±æ€§ç„¶åå­ç±»æ˜¯æœ‰çš„

ä¸è¦å¿˜è®°æœ€åŸºç¡€çš„æŸ¥çœ‹æ–¹æ³•å•Šå’Œå±æ€§çš„å­˜åœ¨å…¶å®å°±æ˜¯å…ˆçœ‹ç¼–è¯‘ç±»å‹ã€‚

ç„¶åè¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œé‚£å°±æ˜¯æˆ‘æ‰€è¯´çš„å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹

### å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹

ä½¿ç”¨ çˆ¶æŒ‡å­
çš„æ–¹å¼è¿›è¡Œå£°æ˜äº†ä¹‹åï¼Œå…¶å®ä¼šè‡ªåŠ¨è¿›è¡Œå‘ä¸Šè½¬å‹ã€‚è½¬åˆ°çˆ¶ç±»çš„ç±»å‹æ‰€ä»¥è°ƒç”¨ä¸äº†å­ç±»ä¸­çˆ¶ç±»æ²¡æœ‰çš„æ–¹æ³•å’Œå±æ€§ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬ä½¿ç”¨getClassè¿™ä¸ªæ–¹æ³•è¿˜æ˜¯ä¼šæ‰“å°è¿è¡Œç±»å‹çš„ç±»çš„ï¼Œ

ç„¶åæˆ‘ä»¬åœ¨å£°æ˜ä½¿ç”¨äº† çˆ¶æŒ‡å­ çš„æƒ…å†µåï¼Œæˆ‘ä»¬çš„ç±»å‹å¯ä»¥è¯´æ˜¯å˜æˆäº†çˆ¶ç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯è°ƒç”¨ä¸åˆ°å­ç±»æ–¹æ³•çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘ä¸‹è½¬å‹ï¼Œä¹Ÿå°±æ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¯ä»¥è°ƒç”¨åˆ°å­ç±»çš„æ–¹æ³•

```java
public class Hello extends Father {
    public static void main(String[] args) {
        Father hello = new Hello();
        //é¦–å…ˆæˆ‘ä»¬è¦å¯¹æˆ‘ä»¬çš„helloè¿›è¡Œä»Fatherç±»å‹è½¬æ¢åˆ°Helloç±»å‹çš„æ“ä½œ
        //å› ä¸ºåœ¨å£°æ˜çš„æ—¶å€™ çˆ¶æŒ‡å­ äº†ï¼Œæ‰€ä»¥è¿›è¡Œäº†å‘ä¸Šè½¬å‹ï¼Œå˜æˆäº†Fatherç±»å‹ï¼Œéœ€è¦å¼ºè½¬æ‰èƒ½è°ƒç”¨å­ç±»æ–¹æ³•
        //è¿™é‡Œä½¿ç”¨ä¸¤ä¸ªæ‹¬å·èƒ½çœ‹æ‡‚å§ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆè¿›è¡Œ (Hello) hello çš„å¼ºè½¬ï¼Œä½†æ˜¯æˆ‘ä»¬åé¢è·Ÿç€è°ƒç”¨æ–¹æ³•äº†ï¼Œæ‰€ä»¥å†åŠ ä¸ªæ‹¬å·å½“æ•´ä½“
        ((Hello) hello).p1();
    }

    public void p1() {
        System.out.println("æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªå‘ä¸‹è½¬å‹ï¼Œå¦‚æœæ‰“å°å‡ºæ¥äº†é‚£å°±æ˜¯æµ‹è¯•åˆ°äº†");
    }

    public void p() {
        System.out.println("æˆ‘æ˜¯å­ç±»ä¸­çš„æ–¹æ³•p()");
    }
}

class Father {
    public void p() {
        System.out.println("æˆ‘æ˜¯çˆ¶ç±»ä¸­çš„æ–¹æ³•p()");
    }
}
```

![](image/day11/6.png)

## ç¬¬ä¸‰ç«  å¤šæ€å‚æ•°

> æˆ‘ä»¬å…ˆæ¥å¤ä¹ ä¸€ä¸ªä¸œè¥¿ï¼Œé‚£å°±æ˜¯ `instanceof` ï¼Œè¿˜è®°å¾—è¿™ä¸ªå…³é”®å­—çš„ä½œç”¨å—ï¼Œä»–å°±æ˜¯åšéªŒè¯æ˜¯å¦ä¸ºå®ä¾‹çš„.

æˆ‘ä»¬ä¹‹å‰éªŒè¯è¿‡äº†ï¼Œå­ç±»åˆ›å»ºçš„å¯¹è±¡ä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œå°±é€šè¿‡è¿™ä¸ªæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®šå½¢å¼å‚æ•°ä¸ºçˆ¶ç±»ï¼Œ
ç„¶åå°±èƒ½è®©çˆ¶ç±»åŠå…¶å­ç±»éƒ½å¯ä»¥ä½œä¸ºå®å‚ä¼ å…¥ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹æ¡ˆä¾‹ï¼Œç„¶åå¯ä»¥é€šè¿‡å¤šæ€æ–¹æ³•ï¼Œç›´æ¥åªéœ€è¦å†™ä¸€ä¸ªçˆ¶ç±»ï¼Œè€Œä¸éœ€è¦é‡è½½å¾ˆå¤šæ¬¡æ–¹æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ¡ˆä¾‹

```java
public class Hello {
    public static void main(String[] args) {
        p123(new Father());
        p123(new Son());
    }

    public static void p123(Father obj) {
        obj.p();
    }
}

class Father {
    public void p() {
        System.out.println("çˆ¶ç±»çš„pæ–¹æ³•");
    }
}

class Son extends Father {
    @Override
    public void p() {
        System.out.println("å­ç±»çš„pæ–¹æ³•");
    }
}
```

![](image/day11/7.png)

æˆ‘ä»¬æ˜æ˜¾å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä¼ çš„å‚æ•°æ˜¯Fatherå’ŒSonï¼Œä½†æ˜¯æˆ‘ä»¬æ¥å—çš„å‚æ•°å´æ˜¯Fatherç±»å‹ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡instanceofæ¥æŸ¥çœ‹å¯¹åº”çš„ç›¸å…³å…³ç³»ï¼Œå‡å¦‚æˆ‘ä»¬ä½œä¸ºå­ç±»è¿˜æœ‰è‡ªå·±çš„æ–¹æ³•çš„è¯ï¼Œå°±å¯ä»¥é€šè¿‡instanceofå’Œä¸Šè¿°çš„å‘ä¸‹è½¬å‹æ¥è¿›è¡Œè½¬æ¢ä½¿ç”¨ã€‚

```java
public class Hello {
    public static void main(String[] args) {
        Son son = new Son();
        Father father = new Father();
        Father sonF = new Son();
        System.out.println("son instanceof Son: " + (son instanceof Son));
        System.out.println("son instanceof Father: " + (son instanceof Father));
        System.out.println("father instanceof Son: " + (father instanceof Son));
        System.out.println("father instanceof Father: " + (father instanceof Father));
        System.out.println("sonF instanceof Son: " + (sonF instanceof Son));
        System.out.println("sonF instanceof Father: " + (sonF instanceof Father));
    }

    public static void p123(Father obj) {
        obj.p();
    }
}

class Father {
    public void p() {
        System.out.println("çˆ¶ç±»çš„pæ–¹æ³•");
    }
}

class Son extends Father {
    @Override
    public void p() {
        System.out.println("å­ç±»çš„pæ–¹æ³•");
    }
}
```

![](image/day11/8.png)

è¿™é‡Œæˆ‘ä»¬æ˜æ˜¾å¯ä»¥çœ‹åˆ°åªæœ‰Fatherä½œä¸ºç¼–è¯‘å’Œè¿è¡ŒåŒé‡ç±»å‹è¿›è¡Œå£°æ˜çš„æ‰ä¼šå‡ºç°ä¸Sonçš„instanceofæ˜¯é”™è¯¯çš„ï¼Œæˆ‘ä»¬çš„å¤šæ€çš„ çˆ¶æŒ‡å­
å£°æ˜å’Œæ­£å¸¸çš„Sonä½œä¸ºç¼–è¯‘å’Œè¿è¡ŒåŒé‡ç±»å‹éƒ½æ˜¯ä¸ä¼šå‡ºç°ä»»ä½•çš„é—®é¢˜çš„ã€‚

ç„¶åæˆ‘ä»¬èƒ½ç†è§£è¿™ä¸ªå¤šæ€å½¢å‚çš„æƒ…å†µäº†å§ï¼Œç„¶åå°±æ˜¯ä¸ºä»€ä¹ˆä¸€å®šè¦å«å¤šæ€å½¢å‚è€Œä¸æ˜¯ç»§æ‰¿å½¢å‚ï¼Œå› ä¸ºæˆ‘ä»¬å¦‚æœæœ‰ç»Ÿä¸€çš„æ–¹æ³•åï¼Œæ¯”å¦‚è¯´éƒ½æœ‰ä¸€ä¸ªgetAgeæ–¹æ³•ï¼Œç›®çš„éƒ½æ˜¯è¿”å›ä»–ä»¬çš„å¹´é¾„ï¼Œæ˜¯ä¸æ˜¯ä½¿ç”¨å¤šæ€çš„æ–¹å¼æ›´èŠ‚çœä»¥åŠè½»æ¾å®ç°ä¸€ç‚¹

é¦–å…ˆè¿™ä¹ˆå†™çš„å¥½å¤„ç¬¬ä¸€ä¸ªå°±æ˜¯èŠ‚çœäº†å¼€å‘æ—¶é—´ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ä¸€ä¸ªçˆ¶ç±»ä½œä¸ºå½¢å‚çš„ç±»å‹å³å¯ï¼Œä¸ç„¶çš„è¯æˆ‘ä»¬éœ€è¦å†™å¾ˆå¤šçš„é‡è½½ç„¶åç­‰æˆ‘ä»¬åˆå‡ºç°äº†æ–°çš„å­ç±»çš„æ—¶å€™åˆè¦è¿›è¡Œé‡è½½ï¼Œç»Ÿä¸€äº†ä½¿ç”¨è¿™ä¸ªç±»çš„æ–¹æ³•ï¼Œåªéœ€è¦ä¸€ä¸ªp123(
Father father )

å…¶æ¬¡è¿™ä¹ˆå†™çš„å¥½å¤„å°±æ˜¯é€šè¿‡å¤šæ€è¿›è¡Œç¼–å†™çš„ï¼Œå­ç±»éƒ½æ˜¯ç»§æ‰¿äº†è¿™ä¸ªçˆ¶ç±»æ‰èƒ½ä½œä¸ºè¿™ä¸ªå‚æ•°ä¼ å…¥ï¼Œé‚£æˆ‘å¦‚æœä¸æ˜¯çš„è¯å°±ä¸èƒ½ä½œä¸ºè¿™ä¸ªå‚æ•°ä¼ å…¥ï¼Œä¹Ÿä¸ä¼šå‡ºç°æ–¹æ³•ä¸å­˜åœ¨çš„æŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ¯•ç«Ÿåœ¨å½¢å‚é‚£å—å¯ä»¥ç†è§£ä¸ºç¼–è¯‘ç±»å‹ï¼Œæ¯•ç«Ÿåªæœ‰å£°æ˜éƒ¨åˆ†ï¼Œæ‰€ä»¥å°±å’Œ
çˆ¶æŒ‡å­ ä¸€æ ·ä¼šå‡ºç°å®é™…çš„æ–¹æ³•è°ƒç”¨æ˜¯çœ‹ç¼–è¯‘ç±»å‹çš„ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è¦è°ƒç”¨æ–¹æ³•ç»“æœæ²¡æœ‰è¿™ä¸ªæ–¹æ³•çš„æƒ…å†µ

æœ€åçš„å¥½å¤„å°±æ˜¯ï¼Œè¿™ä¸ªæ˜¯åé¢çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥å£è§„å®šæˆ‘ä»¬çš„æ–¹æ³•è§„èŒƒçš„æ—¶å€™ï¼Œä¸€èˆ¬ä½¿ç”¨çš„éƒ½æ˜¯æˆ‘ä»¬æ¥å£é‡Œé¢è§„å®šçš„æ–¹æ³•ï¼Œå…¶ä»–çš„æ¥å£é‡Œé¢æ²¡æœ‰è§„å®šçš„æ–¹æ³•ä¸€èˆ¬ä½œä¸ºprivateç§æœ‰æ–¹æ³•æ¥è¾…åŠ©å®ç°çš„è¿™ä¸ªæ¥å£é‡Œé¢çš„æ–¹æ³•ä»è€Œå®ç°åŠŸèƒ½

ä¸ºäº†è®©å¤§å®¶å¯¹è¿™ä¸ªå¤šæ€çš„ç†è§£æ›´æ·±ä¸€ç‚¹ï¼Œæˆ‘ä»¬å†çœ‹å‡ ä¸ªä¾‹å­

```java
public class Hello {
    public static void main(String[] args) {
        shoutTest(new Animal());
        shoutTest(new Dog());
        shoutTest(new Cat());
    }

    public static void shoutTest(Animal animal) {
        animal.shout();
    }
}

class Animal {
    public void shout() {
        System.out.println("Animalåœ¨å‘å‡ºå–Šå«å£°ã€‚ã€‚ã€‚");
    }
}

class Dog extends Animal {
    @Override
    public void shout() {
        System.out.println("Dogåœ¨ç‹—å«ã€‚ã€‚ã€‚");
    }
}

class Cat extends Animal {
    @Override
    public void shout() {
        System.out.println("Catåœ¨çŒ«å«ã€‚ã€‚ã€‚");
    }
}
```

![](image/day11/9.png)

è¿˜æœ‰æˆ‘ä»¬è¯´çš„ï¼Œæ¯”å¦‚è°ƒç”¨å…±åŒçš„å¹´é¾„ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è®¾ç½®ä¸€ä¸‹å¹´é¾„ï¼Œè‡ªç„¶è¿˜æ˜¯æœ‰å¾ˆå¤šç§æ–¹å¼å»å®ç°çš„ã€‚

```java
public class Hello {
    public static void main(String[] args) {
        printAge(new Boss(50));
        printAge(new Employee(30));
    }

    public static void printAge(Person person) {
        System.out.println(person.getClass().getSimpleName() + " " + person.getAge());
    }
}

class Boss extends Person {
    public Boss(int age) {
        super(age);
    }

    public Boss() {
    }
}

class Employee extends Person {
    public Employee(int age) {
        super(age);
    }

    public Employee() {
    }
}

class Person {
    private int age;

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public Person(int age) {
        this.age = age;
    }

    public Person() {
    }
}
```

![](image/day11/10.png)

ç„¶ååŸºäºæˆ‘ä»¬çš„åŠ¨æ€ç»‘å®šæœºåˆ¶ï¼Œå…¶å®ä¹Ÿå¯ä»¥å‡ºç°ä¸€ç‚¹æœ‰è¶£çš„äº‹æƒ…

```java
public class Hello {
    public static void main(String[] args) {
        Father a = new Son();
        System.out.println(a.getSum()); //20
        Father b = new Father();
        System.out.println(b.getSum()); //30
    }
}

class Father {
    public int i = 20;

    public int getI() {
        return i;
    }

    public int getSum() {
        return 10 + getI();
    }
}

class Son extends Father {
    public int i = 10;

    @Override
    public int getI() {
        return i;
    }
}
```

![](image/day11/11.png)

æ˜¯ä¸æ˜¯å¾ˆæœ‰è¶£ï¼Œè¯¦ç»†å¦‚æœå‰é¢å­¦çš„æ¯”è¾ƒé€å½»çš„è¯ï¼Œè¿™é‡Œä¹Ÿæ˜¯å¯ä»¥çœ‹æ‡‚å’Œç†è§£ä¸ºä»€ä¹ˆæ‰“å°ä¼šæ˜¯è¿™æ ·çš„

## ç¬¬å››ç«  å¤šæ€æ•°ç»„

> æ—¢ç„¶éƒ½å·²ç»å¼„æ‡‚äº†å¤šæ€å‚æ•°å…¶å®å¤šæ€æ•°ç»„ä¹Ÿå°±é‚£ä¹ˆä¸€å›äº‹ï¼Œæˆ‘ä»¬åªä¸è¿‡é€šè¿‡å£°æ˜çˆ¶ç±»çš„æ•°ç»„ï¼Œä½†æ˜¯åœ¨é‡Œé¢å‚¨å­˜çš„ä¸åªæ˜¯çˆ¶ç±»è¿˜æœ‰å…¶å­ç±»çš„åšæ³•ï¼Œå…¶å®ç†è§£èµ·æ¥å’Œå¤šæ€å‚æ•°æ˜¯ä¸€æ ·çš„

```java
public class Hello {
    public static void main(String[] args) {
        Animal[] animals = new Animal[5];
        animals[0] = new Cat();
        animals[1] = new Dog();
        animals[2] = new Animal();
        animals[3] = new Cat();
        animals[4] = new Dog();
        for (Animal animal : animals) {
            System.out.println(animal.getClass());
        }
    }
}

class Animal {
}

class Dog extends Animal {
}

class Cat extends Animal {
}
```

![](image/day11/12.png)

ä¸éš¾ç†è§£ï¼Œé“ç†éƒ½æ˜¯ä¸€ä¸ªé“ç†ï¼Œå®ç°èµ·æ¥ä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œå¦‚æœå¯¹è‡ªå·±æ„Ÿè§‰æŒæ¡çš„ä¸æ˜¯å¾ˆé€å½»å°±å¤šçœ‹çœ‹å’Œå¤šç»ƒç»ƒï¼Œåº”è¯¥å°±èƒ½è½»æ¾æŒæ¡äº†ã€‚

### [ä¸Šä¸€ç« ](day10.md)

[//]: # (### [ä¸‹ä¸€ç« ]&#40;day12.md&#41;)

### [è¿”å›ç›®å½•](README.md)